biopopgrowth_edict_distribute_surplus = {
	length = 0
	resources = {
		category = edicts
		cost = {
			influence = 0
		}
	}

	effect = {
		hidden_effect = {
			every_owned_planet = {
				planet = {
					if = {
						limit = {
							NOT = {
								has_modifier = biopopgrowth_distribute_surplus
							}
						}
						biopopgrowth_distribute_surplus_effect = yes
						add_modifier = {
							modifier = biopopgrowth_distribute_surplus
						}
					}
				}
			}
			set_country_flag = biopopgrowth_edict_distribute_surplus
		}
	}

	ai_weight = {
		weight = 0
	}
}

biopopgrowth_edict_stop_distribute_surplus = {
	length = 0
	resources = {
		category = edicts
		cost = {
			influence = 0
		}
	}

	effect = {
		hidden_effect = {
			every_owned_planet = {
				planet = {
					if = {
						limit = {
							has_modifier = biopopgrowth_distribute_surplus
						}
						biopopgrowth_remove_distribute_surplus_effect = yes
						remove_modifier = biopopgrowth_distribute_surplus
					}
				}
			}
			remove_country_flag = biopopgrowth_edict_distribute_surplus
		}
	}

	ai_weight = {
		weight = 1
		modifier = {
			factor = 10
			OR = {
				free_housing < 1
				num_pops < 4
				owner = {
					OR = {
						AND = {
							has_country_resource = {
								type = minerals
								amount = 0
							}
							has_monthly_income = {
								type = minerals
								amount < 0
							}
						}
						AND = {
							has_country_resource = {
								type = food
								amount = 0
							}
							has_monthly_income = {
								type = food
								amount < 0
							}
						}
					}
				}
			}
		}
	}
}
